ttydasm v1.0 by PistonMiner, built on Wed Jul 19 12:47:35 2017


--- START OF DISASSEMBLY FOR FUNCTION [evt_unlock00 mri_03.o] AT 805F4F70 ---
805F4F70:   callss [red_jail_open mri_03.o]
805F4F78:   callsa [elder_rescue mri_03.o]
805F4F80:   return
805F4F84:   end

--- START OF DISASSEMBLY FOR FUNCTION [red_jail_open mri_03.o] AT 805F4E28 ---
805F4E28:   setii GSWF(2833) 1
805F4E34:   callc [evt_mario_key_onoff evt_mario.o] 0
805F4E40:   wait_ms 1000
805F4E48:   callc [evt_mapobj_get_position evt_map.o] ["S_hako_r_doa"] LW(0) LW(1) LW(2)
805F4E60:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_DOOR_GRID_OPEN1"] LW(0) LW(1) LW(2) 0
805F4E7C:   callc [evt_sub_intpl_msec_init evt_sub.o] 11 0 85 500
805F4E94:   loop 0
805F4E9C:     callc [evt_sub_intpl_msec_get_value evt_sub.o]
805F4EA4:     callc [evt_mapobj_rotate evt_map.o] 1 ["S_hako_r_doa"] 0 LW(0) 0
805F4EC0:     if_int_eq LW(1) 0
805F4ECC:       loop_break
805F4ED0:     endif
805F4ED4:     wait_frames 1
805F4EDC:   end_loop
805F4EE0:   callc [evt_hitobj_onoff evt_hit.o] ["A_hako_r1"] 1 0
805F4EF4:   callc [evt_hitobj_onoff evt_hit.o] ["A_hako_r_01"] 1 0
805F4F08:   callc [evt_mario_key_onoff evt_mario.o] 1
805F4F14:   callc [evt_exit_case_evt evt_case.o]
805F4F1C:   return
805F4F20:   end

--- START OF DISASSEMBLY FOR FUNCTION [elder_rescue mri_03.o] AT 805F3AD0 ---
805F3AD0:   callc [evt_mario_key_onoff evt_mario.o] 0
805F3ADC:   callc [evt_party_stop evt_party.o] 0
805F3AE8:   callc [evt_cam3d_evt_set evt_cam.o] 105 82 92 105 30 -203 1000 11
805F3B10:   callc [evt_npc_flag_onoff evt_npc.o] 1 ["プニ族長老"] 1073741856
805F3B24:   callc [evt_npc_flag_onoff evt_npc.o] 1 ["ガイド"] 1073741856
805F3B38:   callc [evt_npc_flag_onoff evt_npc.o] 1 ["ガイド"] 1536
805F3B4C:   callss [mri_guide_goryu mri.o]
805F3B54:   callc [evt_puni_set_mode mri_puni.o] 1 30
805F3B64:   callc [evt_puni_get_position mri_puni.o] 1 LW(0) LW(1) LW(2)
805F3B7C:   callc [evt_puni_set_position mri_puni.o] 1 0 -1000 0
805F3B94:   callc [evt_npc_set_position evt_npc.o] ["ガイド"] LW(0) LW(1) LW(2)
805F3BAC:   setii GW(3) 80
805F3BB8:   setii GF(2) 1
805F3BC4:   setii LW(0) ["ガイド"]
805F3BD0:   callsa_tid [mri_puni_walk_se mri.o] LW(9)
805F3BDC:   callc [evt_npc_move_position evt_npc.o] ["ガイド"] 98 -156 0 120.00 0
805F3BFC:   stop_tid LW(9)
805F3C04:   callc [evt_npc_set_ry evt_npc.o] ["ガイド"] 90
805F3C14:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_00"] 0 ["ガイド"]
805F3C2C:   callc [evt_npc_set_ry evt_npc.o] ["プニ族長老"] 270
805F3C3C:   begin_thread
805F3C40:     wait_ms 300
805F3C48:     callc [evt_mario_mov_pos2 evt_mario.o] 69 -144 100.00
805F3C5C:     callc [evt_mario_set_dir evt_mario.o] 90 200 0
805F3C70:   end_thread
805F3C74:   callc [evt_party_move_pos2 evt_party.o] 0 63 -170 150.00
805F3C8C:   callc [evt_party_set_dir evt_party.o] 0 90 -1
805F3CA0:   wait_ms 300
805F3CA8:   setii GF(0) 1
805F3CB4:   begin_thread
805F3CB8:     callc [evt_cam3d_evt_set evt_cam.o] 105.00 73.60 44.30 105.00 30.00 -203.00 1000 8
805F3CE0:     wait_ms 900
805F3CE8:     callc [evt_cam3d_evt_set evt_cam.o] 105 82 92 105 30 -203 400 11
805F3D10:   end_thread
805F3D14:   begin_thread
805F3D18:     callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2)
805F3D30:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_CHOUROU_BIG1"] LW(0) LW(1) LW(2) 0
805F3D4C:     callc [evt_sub_intpl_msec_init evt_sub.o] 8 1.00 2.50 700
805F3D64:     loop 0
805F3D6C:       callc [evt_sub_intpl_msec_get_value_para evt_sub.o] LW(0) LW(1)
805F3D7C:       callc [evt_npc_set_scale evt_npc.o] ["プニ族長老"] LW(0) LW(0) LW(0)
805F3D94:       if_int_eq LW(1) 0
805F3DA0:         loop_break
805F3DA4:       endif
805F3DA8:       wait_frames 1
805F3DB0:     end_loop
805F3DB4:     setii GF(0) 0
805F3DC0:   end_thread
805F3DC4:   begin_thread
805F3DC8:     wait_ms 200
805F3DD0:     callc [evt_mario_get_pos evt_mario.o] 0 LW(0) LW(1) LW(2)
805F3DE8:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_VOICE_MARIO_SURPRISED1"] LW(0) LW(1) LW(2) 0
805F3E04:     callc [evt_mario_set_pose evt_mario.o] ["M_N_7"]
805F3E10:     wait_ms 1000
805F3E18:     callc [evt_mario_set_pose evt_mario.o] ["M_S_1"]
805F3E24:   end_thread
805F3E28:   begin_thread
805F3E2C:     wait_ms 200
805F3E34:     callc [evt_party_get_pos evt_party.o] 0 LW(0) LW(1) LW(2)
805F3E4C:     addi LW(0) 2
805F3E58:     callc [evt_party_jump_pos evt_party.o] 0 LW(0) LW(1) LW(2) 400 1 -1000
805F3E7C:   end_thread
805F3E80:   callc [evt_snd_bgmoff evt_snd.o] 1024
805F3E8C:   callc [evt_snd_bgmon evt_snd.o] 1 ["BGM_EVT_STG2_PUNI1"]
805F3E9C:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_01"] 0 ["プニ族長老"]
805F3EB4:   wait_until GF(0)
805F3EBC:   callc [evt_sub_intpl_msec_init evt_sub.o] 5 2.50 1.00 200
805F3ED4:   loop 0
805F3EDC:     callc [evt_sub_intpl_msec_get_value_para evt_sub.o] LW(0) LW(1)
805F3EEC:     callc [evt_npc_set_scale evt_npc.o] ["プニ族長老"] LW(0) LW(0) LW(0)
805F3F04:     if_int_eq LW(1) 0
805F3F10:       loop_break
805F3F14:     endif
805F3F18:     wait_frames 1
805F3F20:   end_loop
805F3F24:   callc [evt_msg_continue evt_msg.o]
805F3F2C:   wait_ms 300
805F3F34:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_02"] 0 ["ガイド"]
805F3F4C:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_03"] 0 ["プニ族長老"]
805F3F64:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_04"] 0 ["ガイド"]
805F3F7C:   callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2)
805F3F94:   begin_thread
805F3F98:     callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(10) LW(11) LW(12)
805F3FB0:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_PUNI_JUMP1"] LW(10) LW(11) LW(12) 0
805F3FCC:   end_thread
805F3FD0:   callc [evt_npc_jump_position_nohit evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2) 200 18
805F3FF0:   callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2)
805F4008:   begin_thread
805F400C:     callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(10) LW(11) LW(12)
805F4024:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_PUNI_JUMP1"] LW(10) LW(11) LW(12) 0
805F4040:   end_thread
805F4044:   callc [evt_npc_jump_position_nohit evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2) 200 18
805F4064:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_05"] 0 ["プニ族長老"]
805F407C:   callc [evt_snd_bgmoff evt_snd.o] 26625
805F4088:   callc [evt_fade_out evt_fade.o] 1000
805F4094:   wait_ms 100
805F409C:   callc [evt_fade_entry evt_fade.o] 12 0 0 0 0
805F40B8:   wait_ms 1000
805F40C0:   callc [evt_msg_toge evt_msg.o] 1 0 0 0
805F40D8:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_06"] 0 0
805F40F0:   begin_thread_tid GW(1)
805F40F8:     loop 0
805F4100:       callc [evt_mario_get_pos evt_mario.o] 0 LW(0) LW(1) LW(2)
805F4118:       callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_VOICE_MARIO_SLEEP1"] LW(0) LW(1) LW(2) 0
805F4134:       wait_ms 3000
805F413C:     end_loop
805F4140:   end_thread
805F4144:   callc [evt_mario_sleep_on evt_mario.o]
805F414C:   callc [evt_party_sleep_on evt_party.o] 0
805F4158:   wait_ms 1000
805F4160:   callc [evt_fade_entry evt_fade.o] 11 0 0 0 0
805F417C:   callc [evt_snd_bgmon evt_snd.o] 161 0
805F418C:   callc [evt_fade_in evt_fade.o] 1000
805F4198:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_07"] 0 ["プニ族長老"]
805F41B0:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_08"] 0 ["ガイド"]
805F41C8:   callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2)
805F41E0:   begin_thread
805F41E4:     callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(10) LW(11) LW(12)
805F41FC:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_PUNI_JUMP1"] LW(10) LW(11) LW(12) 0
805F4218:   end_thread
805F421C:   callc [evt_npc_jump_position_nohit evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2) 200 18
805F423C:   callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2)
805F4254:   begin_thread
805F4258:     callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(10) LW(11) LW(12)
805F4270:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_PUNI_JUMP1"] LW(10) LW(11) LW(12) 0
805F428C:   end_thread
805F4290:   callc [evt_npc_jump_position_nohit evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2) 200 18
805F42B0:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_09"] 0 ["プニ族長老"]
805F42C8:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_10"] 0 ["ガイド"]
805F42E0:   callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2)
805F42F8:   begin_thread
805F42FC:     callc [evt_npc_get_position evt_npc.o] ["プニ族長老"] LW(10) LW(11) LW(12)
805F4314:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_PUNI_JUMP1"] LW(10) LW(11) LW(12) 0
805F4330:   end_thread
805F4334:   callc [evt_npc_jump_position_nohit evt_npc.o] ["プニ族長老"] LW(0) LW(1) LW(2) 200 18
805F4354:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_11"] 0 ["プニ族長老"]
805F436C:   callc [evt_snd_bgmoff_f evt_snd.o] 513 1000
805F437C:   callc [evt_cam3d_evt_off evt_cam.o] 1000 11
805F438C:   callc [evt_npc_status_onoff evt_npc.o] 1 ["プニ族長老"] 2
805F43A0:   callc [evt_sub_spline_init evt_sub.o] 0 0 [spline_dt mri_03.o] 8 30 0
805F43C0: 0:
805F43C8:   callc [evt_sub_spline_get_value evt_sub.o] LW(3) LW(4) LW(5) LW(6)
805F43E0:   setii LW(0) ["プニ族長老"]
805F43EC:   callsa_tid [mri_puni_walk_se mri.o] LW(9)
805F43F8:   callc [evt_npc_move_position evt_npc.o] ["プニ族長老"] LW(3) LW(5) 160 0 0
805F4418:   stop_tid LW(9)
805F4420:   if_int_eq LW(6) 1
805F442C:     goto 0
805F4434:   endif
805F4438:   callc [evt_npc_set_position evt_npc.o] ["プニ族長老"] 0 -1000 0
805F4450:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_12"] 0 ["ガイド"]
805F4468:   wait_ms 300
805F4470:   begin_thread
805F4474:     wait_ms 500
805F447C:     callc [evt_cam3d_evt_set evt_cam.o] -155 85 204 -155 50 7 1500 11
805F44A4:   end_thread
805F44A8:   callc [evt_npc_status_onoff evt_npc.o] 1 ["ガイド"] 2
805F44BC:   callc [evt_sub_spline_init evt_sub.o] 0 0 [spline_dt1 mri_03.o] 5 15 0
805F44DC: 1:
805F44E4:   callc [evt_sub_spline_get_value evt_sub.o] LW(3) LW(4) LW(5) LW(6)
805F44FC:   setii LW(0) ["ガイド"]
805F4508:   callsa_tid [mri_puni_walk_se mri.o] LW(9)
805F4514:   callc [evt_npc_move_position evt_npc.o] ["ガイド"] LW(3) LW(5) 160 0 0
805F4534:   stop_tid LW(9)
805F453C:   if_int_eq LW(6) 1
805F4548:     goto 1
805F4550:   endif
805F4554:   wait_ms 100
805F455C:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_12_01"] 0 ["ガイド"]
805F4574:   stop_tid GW(1)
805F457C:   callc [evt_mario_sleep_off evt_mario.o]
805F4584:   callc [evt_party_sleep_off evt_party.o] 0
805F4590:   begin_thread
805F4594:     callc [evt_mario_set_pos evt_mario.o] -10 0 -52
805F45A8:     callc [evt_mario_mov_pos2 evt_mario.o] -110 -52 120.00
805F45BC:   end_thread
805F45C0:   begin_thread
805F45C4:     callc [evt_party_set_pos evt_party.o] 0 32 0 -52
805F45DC:     callc [evt_party_move_pos2 evt_party.o] 0 -68 -52 120.00
805F45F4:   end_thread
805F45F8:   wait_ms 300
805F4600:   callc [evt_msg_print evt_msg.o] 0 ["stg2_mri_e14_12_02"] 0 ["ガイド妹"]
805F4618:   callc [evt_snd_bgmoff evt_snd.o] 513
805F4624:   callc [evt_snd_bgmon evt_snd.o] 288 0
805F4634:   callc [evt_npc_get_position evt_npc.o] ["ガイド"] LW(0) LW(1) LW(2)
805F464C:   callc [evt_npc_set_position evt_npc.o] ["ガイド"] 0 -1000 0
805F4664:   callc [evt_puni_set_position mri_puni.o] 1 LW(0) LW(1) LW(2)
805F467C:   callc [evt_puni_set_mode mri_puni.o] 1 1
805F468C:   setii GF(2) 0
805F4698:   callc [evt_cam3d_evt_off evt_cam.o] 500 11
805F46A8:   wait_ms 500
805F46B0:   setii GSW(0) 94
805F46BC:   callc [evt_party_run evt_party.o] 0
805F46C8:   callc [evt_mario_key_onoff evt_mario.o] 1
805F46D4:   return
805F46D8:   end

--- START OF DISASSEMBLY FOR FUNCTION [mri_guide_goryu mri.o] AT 805E3CEC ---
805E3CEC:   callss [mri_guide_hagure_check mri.o]
805E3CF4:   if_int_eq LW(1) 0
805E3D00:     return
805E3D04:   endif
805E3D08:   callc [evt_puni_set_lsw_index mri_puni.o] LSW(0) 0 0 0 0 0
805E3D28:   callc [evt_puni_set_trap_index mri_puni.o] 1 0
805E3D38:   callc [evt_puni_init_puni mri_puni.o] 1 30 0 -1000 0 0
805E3D58:   callc [evt_puni_flag_onoff mri_puni.o] 1 1 65536
805E3D6C:   callc [evt_mario_get_pos evt_mario.o] 0 LW(0) LW(1) LW(2)
805E3D84:   callc [evt_mario_get_dir evt_mario.o] LW(3)
805E3D90:   addi LW(2) -10
805E3D9C:   if_int_le LW(0) 180
805E3DA8:     addi LW(0) -10
805E3DB4:   else
805E3DB8:     addi LW(0) 10
805E3DC4:   endif
805E3DC8:   callc [evt_puni_set_position mri_puni.o] 1 LW(0) LW(1) LW(2)
805E3DE0:   return
805E3DE4:   end

--- START OF DISASSEMBLY FOR FUNCTION [mri_puni_walk_se mri.o] AT 805E3DE8 ---
805E3DE8:   loop 0
805E3DF0:     callc [evt_npc_get_position evt_npc.o] LW(0) LW(10) LW(11) LW(12)
805E3E08:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_STG2_PUNI_MOVE2_1"] LW(10) LW(11) LW(12) 0
805E3E24:     wait_frames 5
805E3E2C:   end_loop
805E3E30:   return
805E3E34:   end

--- START OF DISASSEMBLY FOR FUNCTION [mri_guide_hagure_check mri.o] AT 805E3C24 ---
805E3C24:   callc [evt_puni_get_lsw_index mri_puni.o] LSW(0) 0 LW(0) LW(1) LW(2) LW(3)
805E3C44:   callc [evt_puni_get_trap_index mri_puni.o] 1 LW(4)
805E3C54:   setii LW(1) 0
805E3C60:   if_int_ne LW(4) 0
805E3C6C:     setii LW(1) 3
805E3C78:     dbg_report ["ガイド・トラップにはまっている"]
805E3C80:   endif
805E3C84:   if_int_ne LW(0) 0
805E3C90:     setii LW(1) 1
805E3C9C:     dbg_report ["ガイド・別のエリアにはぐれている"]
805E3CA4:   endif
805E3CA8:   callc [evt_puni_get_mode mri_puni.o] 1 LW(0)
805E3CB8:   if_int_eq LW(0) 16
805E3CC4:     setii LW(1) 2
805E3CD0:     dbg_report ["ガイド・同じエリアではぐれている"]
805E3CD8:   endif
805E3CDC:   dbg_report ["ガイド・普通の状態"]
805E3CE4:   return
805E3CE8:   end
