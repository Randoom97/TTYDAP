ttydasm v1.0 by PistonMiner, built on Wed Jul 19 12:47:35 2017


--- START OF DISASSEMBLY FOR FUNCTION [evt_rsh_door_close rsh.o] AT 805D0BCC ---
805D0BCC:   mo_set_base_int LW(0)
805D0BD4:   mo_read_int LW(1)
805D0BDC:   mo_read_int LW(2)
805D0BE4:   mo_read_int LW(3)
805D0BEC:   mo_read_int LW(4)
805D0BF4:   mo_read_int LW(5)
805D0BFC:   mo_read_int LW(6)
805D0C04:   mo_read_int LW(7)
805D0C0C:   callc [evt_cam_letter_box_disable evt_cam.o] 1
805D0C18:   callc [evt_mario_key_onoff evt_mario.o] 0
805D0C24:   callc [evt_hitobj_attr_onoff evt_hit.o] 0 1 LW(4) 8388608
805D0C3C:   callc [evt_hitobj_attr_onoff evt_hit.o] 0 1 LW(6) 8388608
805D0C54:   callc [img_wait rsh.o]
805D0C5C:   begin_thread
805D0C60:     if_int_eq GSW(0) 288
805D0C6C:       callc [evt_sub_get_mapname evt_sub.o] LW(0)
805D0C78:       if_string_eq LW(0) ["rsh_04_a"]
805D0C84:         wait_ms 1000
805D0C8C:         setii GSWF(3444) 1
805D0C98:         callc [evt_bero_mapchange evt_bero.o] ["rsh_04_b"] ["e_bero"]
805D0CA8:       endif
805D0CAC:     endif
805D0CB0:   end_thread
805D0CB4:   begin_thread
805D0CB8:     if_int_eq GSW(0) 294
805D0CC4:       callc [evt_sub_get_mapname evt_sub.o] LW(0)
805D0CD0:       if_string_eq LW(0) ["rsh_04_b"]
805D0CDC:         wait_ms 1000
805D0CE4:         setii GSWF(3444) 1
805D0CF0:         callc [evt_bero_mapchange evt_bero.o] ["rsh_04_c"] ["e_bero"]
805D0D00:       endif
805D0D04:     endif
805D0D08:   end_thread
805D0D0C:   if_int_eq GSW(0) 297
805D0D18:     callc [evt_sub_get_mapname evt_sub.o] LW(10)
805D0D24:     if_string_eq LW(10) ["rsh_02_c"]
805D0D30:       if_int_eq GSWF(3439) 0
805D0D3C:         setii GSWF(3439) 1
805D0D48:         callc [evt_msg_print evt_msg.o] 0 ["stg6_rsh_123"] 0 ["ゆうれい"]
805D0D60:       endif
805D0D64:     endif
805D0D68:   endif
805D0D6C:   begin_thread
805D0D70:     callc [evt_sub_get_mapname evt_sub.o] LW(10)
805D0D7C:     if_string_eq LW(10) ["rsh_02_a"]
805D0D88:       if_string_eq LW(1) ["heya_5"]
805D0D94:         switchi GSW(0)
805D0D9C:           case_int_range 306 307
805D0DA8:             callc [evt_snd_bgmon evt_snd.o] 160 0
805D0DB8:         end_switch
805D0DBC:       endif
805D0DC0:     endif
805D0DC4:   end_thread
805D0DC8:   begin_thread
805D0DCC:     callc [evt_sub_get_mapname evt_sub.o] LW(10)
805D0DD8:     setii LF(0) 0
805D0DE4:     if_string_eq LW(10) ["rsh_02_a"]
805D0DF0:       setii LF(0) 1
805D0DFC:     endif
805D0E00:     if_string_eq LW(10) ["rsh_02_b"]
805D0E0C:       setii LF(0) 1
805D0E18:     endif
805D0E1C:     if_string_eq LW(10) ["rsh_02_c"]
805D0E28:       setii LF(0) 1
805D0E34:     endif
805D0E38:     if_int_eq LF(0) 1
805D0E44:       if_string_eq LW(1) ["heya_4"]
805D0E50:         if_int_eq GSWF(3445) 1
805D0E5C:           callc [evt_snd_bgmon evt_snd.o] 160 0
805D0E6C:         endif
805D0E70:       endif
805D0E74:     endif
805D0E78:   end_thread
805D0E7C:   setii GSWF(3446) 0
805D0E88:   setii GSWF(3447) 0
805D0E94:   setii GSWF(3459) 0
805D0EA0:   callc [evt_map_playanim evt_map.o] LW(5) 2 0
805D0EB4:   callc [evt_img_free_capture evt_img.o] ["capture_img"] 0
805D0EC4:   callc [evt_img_free_capture evt_img.o] ["capture_img"] 1
805D0ED4:   callc [evt_img_free_capture evt_img.o] ["capture_img"] 2
805D0EE4:   callc [evt_img_alloc_capture evt_img.o] ["capture_img"] 0 ["offscreen"] 1 0 0 608 480
805D0F0C:   callc [evt_mapobj_set_offscreen evt_map.o] 1 ["rouka"] ["offscreen"]
805D0F20:   callc [evt_img_onoff evt_img.o] ["capture_img"] 0
805D0F30:   callss [kami_offscreen_check rsh.o]
805D0F38:   callss [simi_offscreen_check rsh.o]
805D0F40:   callc [evt_npc_check evt_npc.o] ["車掌"] LW(0)
805D0F50:   if_int_eq LW(0) 1
805D0F5C:     callc [evt_npc_set_offscreen evt_npc.o] ["車掌"] ["offscreen"]
805D0F6C:   endif
805D0F70:   begin_thread
805D0F74:     callc [evt_mario_get_pos evt_mario.o] 0 LW(0) LW(1) LW(2)
805D0F8C:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_OFF6_ROOM_OUT1"] LW(0) LW(1) LW(2) 0
805D0FA8:   end_thread
805D0FAC:   callc [evt_img_set_paper_anim evt_img.o] ["capture_img"] ["A_2"]
805D0FBC:   callc [evt_img_onoff evt_img.o] ["capture_img"] 1
805D0FCC:   begin_thread
805D0FD0:     callc [evt_mario_get_pos evt_mario.o] 0 LW(10) LW(11) LW(12)
805D0FE8:     callc [evt_hit_get_position evt_hit.o] LW(6) LW(13) LW(14) LW(15)
805D1000:     callc [evt_mario_mov_pos evt_mario.o] LW(13) LW(12) 300
805D1014:   end_thread
805D1018:   begin_thread
805D101C:     callc [evt_mapobj_clear_offscreen evt_map.o] 1 ["rouka"]
805D102C:     callc [evt_mapobj_clear_offscreen evt_map.o] 1 LW(1)
805D103C:     callc [evt_mapobj_clear_offscreen evt_map.o] 1 LW(2)
805D104C:     callc [evt_npc_check evt_npc.o] ["車掌"] LW(0)
805D105C:     if_int_eq LW(0) 1
805D1068:       callc [evt_npc_flag_onoff evt_npc.o] 0 ["車掌"] 128
805D107C:     endif
805D1080:     if_int_eq LW(0) 1
805D108C:       callc [evt_npc_set_offscreen evt_npc.o] ["車掌"] 0
805D109C:     endif
805D10A0:   end_thread
805D10A4:   callc [evt_img_wait_animend evt_img.o] ["capture_img"]
805D10B0:   callc [evt_img_onoff evt_img.o] ["capture_img"] 0
805D10C0:   callc [evt_mapobj_flag_onoff evt_map.o] 1 0 ["rouka"] 1
805D10D8:   callss [simi_check rsh.o]
805D10E0:   begin_thread
805D10E4:     callc [evt_hit_get_position evt_hit.o] LW(6) LW(10) LW(11) LW(12)
805D10FC:     addi LW(12) 50
805D1108:     callc [evt_mario_party_door_move evt_mario.o] LW(10) LW(12) 80.00
805D111C:   end_thread
805D1120:   callc [evt_hit_get_position evt_hit.o] LW(4) LW(10) LW(11) LW(12)
805D1138:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_DOOR_SHUT_SLIDE1_2"] LW(10) LW(11) LW(12) 0
805D1154:   callc [evt_mapobj_flag_onoff evt_map.o] 1 0 LW(3) 1
805D116C:   callc [evt_map_playanim evt_map.o] LW(7) 0 0
805D1180:   callc [evt_map_checkanim evt_map.o] LW(7) LW(10) LW(11)
805D1194:   wait_ms LW(11)
805D119C:   callc [evt_mapobj_flag_onoff evt_map.o] 1 1 LW(1) 1
805D11B4:   callc [evt_mapobj_flag_onoff evt_map.o] 1 1 LW(2) 1
805D11CC:   callc [evt_hitobj_attr_onoff evt_hit.o] 0 0 LW(4) 8388608
805D11E4:   callc [evt_hitobj_attr_onoff evt_hit.o] 0 0 LW(6) 8388608
805D11FC:   callc [evt_mario_key_onoff evt_mario.o] 1
805D1208:   callc [evt_cam_letter_box_disable evt_cam.o] 0
805D1214:   return
805D1218:   end

--- START OF DISASSEMBLY FOR FUNCTION [kami_offscreen_check rsh.o] AT 805D0184 ---
805D0184:   callc [evt_sub_get_mapname evt_sub.o] LW(10)
805D0190:   if_string_eq LW(10) ["rsh_01_a"]
805D019C:     if_int_eq GSW(0) 304
805D01A8:       callc [evt_mapobj_clear_offscreen evt_map.o] 0 ["yuka_3"]
805D01B8:     else
805D01BC:       callc [evt_mapobj_clear_offscreen evt_map.o] 0 ["yuka_3_kami"]
805D01CC:     endif
805D01D0:   endif
805D01D4:   if_string_eq LW(10) ["rsh_02_a"]
805D01E0:     switchi GSW(0)
805D01E8:       case_int_range 306 307
805D01F4:         callc [evt_mapobj_clear_offscreen evt_map.o] 0 ["yuka_5"]
805D0204:       case_default
805D0208:         callc [evt_mapobj_clear_offscreen evt_map.o] 0 ["yuka_5_kami"]
805D0218:     end_switch
805D021C:   endif
805D0220:   return
805D0224:   end

--- START OF DISASSEMBLY FOR FUNCTION [simi_offscreen_check rsh.o] AT 805CFF8C ---
805CFF8C:   setii LF(0) 0
805CFF98:   callc [evt_sub_get_mapname evt_sub.o] LW(10)
805CFFA4:   if_string_eq LW(10) ["rsh_02_a"]
805CFFB0:     setii LF(0) 1
805CFFBC:   endif
805CFFC0:   if_string_eq LW(10) ["rsh_03_a"]
805CFFCC:     setii LF(0) 1
805CFFD8:   endif
805CFFDC:   if_int_eq LF(0) 1
805CFFE8:     switchi GSW(0)
805CFFF0:       case_int_range 283 302
805CFFFC:         callc [evt_mapobj_clear_offscreen evt_map.o] 0 ["s_yuka"]
805D000C:       case_default
805D0010:         callc [evt_mapobj_clear_offscreen evt_map.o] 0 ["s_yuka_simi"]
805D0020:     end_switch
805D0024:   endif
805D0028:   return
805D002C:   end

--- START OF DISASSEMBLY FOR FUNCTION [simi_check rsh.o] AT 805CFEA8 ---
805CFEA8:   setii LF(0) 0
805CFEB4:   callc [evt_sub_get_mapname evt_sub.o] LW(10)
805CFEC0:   if_string_eq LW(10) ["rsh_02_a"]
805CFECC:     setii LF(0) 1
805CFED8:   endif
805CFEDC:   if_string_eq LW(10) ["rsh_03_a"]
805CFEE8:     setii LF(0) 1
805CFEF4:   endif
805CFEF8:   if_int_eq LF(0) 1
805CFF04:     switchi GSW(0)
805CFF0C:       case_int_range 283 302
805CFF18:         callc [evt_mapobj_flag_onoff evt_map.o] 1 1 ["s_yuka"] 1
805CFF30:         callc [evt_mapobj_flag_onoff evt_map.o] 1 0 ["s_yuka_simi"] 1
805CFF48:       case_default
805CFF4C:         callc [evt_mapobj_flag_onoff evt_map.o] 1 0 ["s_yuka"] 1
805CFF64:         callc [evt_mapobj_flag_onoff evt_map.o] 1 1 ["s_yuka_simi"] 1
805CFF7C:     end_switch
805CFF80:   endif
805CFF84:   return
805CFF88:   end
