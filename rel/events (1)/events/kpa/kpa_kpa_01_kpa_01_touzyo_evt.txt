ttydasm v1.0 by PistonMiner, built on Wed Jul 19 12:47:35 2017


--- START OF DISASSEMBLY FOR FUNCTION [kpa_01_touzyo_evt kpa_01.o] AT 805BF198 ---
805BF198:   callc [evt_snd_bgmon evt_snd.o] 512 ["BGM_STGK_CASTLE1"]
805BF1A8:   callc [evt_snd_envoff evt_snd.o] 512
805BF1B4:   callc [evt_snd_set_rev_mode evt_snd.o] 2
805BF1C0:   callc [evt_mario_key_onoff evt_mario.o] 0
805BF1CC:   callc [evt_mario_kill_party evt_mario.o] 0
805BF1D8:   callc [evt_mario_set_pos evt_mario.o] -810 0 0
805BF1EC:   callc [evt_mario_set_dir evt_mario.o] 90 0 0
805BF200:   callc [evt_mario_set_dispdir evt_mario.o] 180
805BF20C:   callc [evt_cam3d_evt_set evt_cam.o] 622 172 546 622 77 5 0 11
805BF234:   callc [evt_seq_wait evt_seq.o] 2
805BF240:   callc [evt_cam3d_evt_set evt_cam.o] -630 172 546 -630 77 5 9000 11
805BF268:   wait_ms 9000
805BF270:   callc [evt_mario_get_pos evt_mario.o] 0 LW(0) LW(1) LW(2)
805BF288:   setii LW(0) -1600
805BF294:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_KUPPA_MOVE1"] LW(0) LW(1) LW(2) 0
805BF2B0:   wait_ms 700
805BF2B8:   addi LW(0) 100
805BF2C4:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_KUPPA_MOVE2"] LW(0) LW(1) LW(2) 0
805BF2E0:   wait_ms 700
805BF2E8:   addi LW(0) 100
805BF2F4:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_KUPPA_MOVE1"] LW(0) LW(1) LW(2) 0
805BF310:   wait_ms 700
805BF318:   addi LW(0) 100
805BF324:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_KUPPA_MOVE2"] LW(0) LW(1) LW(2) 0
805BF340:   callc [evt_eff_fukidashi evt_eff.o] 1 [zero_kpa_000017f4 kpa_01.o] ["トゲノコＡ"] 0 0 0 0 0 0 0 60
805BF374:   callc [evt_eff_fukidashi evt_eff.o] 1 [zero_kpa_000017f4 kpa_01.o] ["トゲノコＢ"] 0 0 0 0 0 0 0 60
805BF3A8:   wait_ms 1000
805BF3B0:   callss [kpa_01_door_open kpa_01.o]
805BF3B8:   callc [evt_cam3d_evt_set evt_cam.o] -470 60 269 -683 65 24 0 11
805BF3E0:   wait_frames 1
805BF3E8:   callc [evt_cam3d_evt_set evt_cam.o] -430 60 234 -644 65 -11 2800 11
805BF410:   callc [evt_mario_mov_pos evt_mario.o] -650 0 2800
805BF424:   callc [evt_mario_get_pos evt_mario.o] 0 LW(0) LW(1) LW(2)
805BF43C:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_VOICE_KOOPA_LAUGH2_2"] LW(0) LW(1) LW(2) 0
805BF458:   callc [evt_npc_set_autotalkpose evt_npc.o] ["mario"] ["KPA_S_1"] ["KPA_T_1"]
805BF46C:   callc [evt_msg_print evt_msg.o] 0 ["kpa_stg1_000"] 0 ["mario"]
805BF484:   callss [kpa_01_door_close kpa_01.o]
805BF48C:   callc [evt_cam3d_evt_off evt_cam.o] 500 11
805BF49C:   wait_ms 500
805BF4A4:   wait_ms 100
805BF4AC:   callc [evt_msg_print evt_msg.o] 0 ["kpa_stg1_001"] 0 ["トゲノコＡ"]
805BF4C4:   setii GSW(0) 60
805BF4D0:   callc [N_evt_bero_set_mario_bottomless_respawn_pos_to_current_mario_pos evt_bero.o]
805BF4D8:   callc [evt_mario_key_onoff evt_mario.o] 1
805BF4E4:   callc [evt_snd_bgm_scope evt_snd.o] 0 0
805BF4F4:   return
805BF4F8:   end

--- START OF DISASSEMBLY FOR FUNCTION [kpa_01_door_open kpa_01.o] AT 805BEA78 ---
805BEA78:   begin_thread
805BEA7C:     callc [evt_npc_set_ry evt_npc.o] ["トゲノコＡ"] 270
805BEA8C:     callc [evt_npc_move_position evt_npc.o] ["トゲノコＡ"] -729 -5 1000 0 0
805BEAAC:   end_thread
805BEAB0:   callc [evt_npc_set_ry evt_npc.o] ["トゲノコＢ"] 270
805BEAC0:   callc [evt_npc_move_position evt_npc.o] ["トゲノコＢ"] -729 5 1000 0 0
805BEAE0:   wait_ms 1000
805BEAE8:   setff GW(0) 0
805BEAF4:   setii GW(1) 1
805BEB00:   callc [evt_mapobj_get_position evt_map.o] ["door"] LW(0) LW(1) LW(2)
805BEB18:   callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_DOOR_OPEN_CASTLE1"] LW(0) LW(1) LW(2) 0
805BEB34:   begin_thread
805BEB38:     callc [evt_sub_intpl_msec_init evt_sub.o] 5 0 180 2000
805BEB50: 0:
805BEB58:     callc [evt_sub_intpl_msec_get_value evt_sub.o]
805BEB60:     mulf LW(0) 0.55
805BEB6C:     setff GW(0) LW(0)
805BEB78:     setii GW(1) LW(1)
805BEB84:     wait_frames 1
805BEB8C:     if_int_eq LW(1) 1
805BEB98:       goto 0
805BEBA0:     endif
805BEBA4:   end_thread
805BEBA8:   begin_thread
805BEBAC:     loop 0
805BEBB4:       if_int_ne GW(1) 1
805BEBC0:         loop_break
805BEBC4:       endif
805BEBC8:       setff LW(2) GW(0)
805BEBD4:       callc [evt_mapobj_rotate evt_map.o] 0 ["door_1"] 0 LW(2) 0
805BEBF0:       mulf LW(2) -1.00
805BEBFC:       callc [evt_mapobj_rotate evt_map.o] 0 ["door_2"] 0 LW(2) 0
805BEC18:       wait_frames 1
805BEC20:     end_loop
805BEC24:   end_thread
805BEC28:   begin_thread
805BEC2C:     callc [evt_npc_set_anim evt_npc.o] ["トゲノコＡ"] ["W_2"]
805BEC3C:     loop 0
805BEC44:       if_int_ne GW(1) 1
805BEC50:         loop_break
805BEC54:       endif
805BEC58:       setff LW(2) GW(0)
805BEC64:       addf LW(2) 25.00
805BEC70:       callc [get_togenoko_pos kpa_01.o] -750.00 -50.00 -750.00 -7.50 LW(2) LW(3) LW(4)
805BEC94:       callc [evt_npc_set_position evt_npc.o] ["トゲノコＡ"] LW(3) 0 LW(4)
805BECAC:       if_int_ge LW(2) 90
805BECB8:         callc [evt_npc_set_ry evt_npc.o] ["トゲノコＡ"] 90
805BECC8:       endif
805BECCC:       wait_frames 1
805BECD4:     end_loop
805BECD8:     callc [evt_npc_set_stop_anim evt_npc.o] ["トゲノコＡ"]
805BECE4:   end_thread
805BECE8:   begin_thread
805BECEC:     callc [evt_npc_set_anim evt_npc.o] ["トゲノコＢ"] ["W_2"]
805BECFC:     loop 0
805BED04:       if_int_ne GW(1) 1
805BED10:         loop_break
805BED14:       endif
805BED18:       setff LW(5) GW(0)
805BED24:       addf LW(5) 25.00
805BED30:       mulf LW(5) -1.00
805BED3C:       callc [get_togenoko_pos kpa_01.o] -750.00 50.00 -750.00 7.50 LW(5) LW(6) LW(7)
805BED60:       callc [evt_npc_set_position evt_npc.o] ["トゲノコＢ"] LW(6) 0 LW(7)
805BED78:       if_int_le LW(5) -90
805BED84:         callc [evt_npc_set_ry evt_npc.o] ["トゲノコＢ"] 90
805BED94:       endif
805BED98:       wait_frames 1
805BEDA0:     end_loop
805BEDA4:     callc [evt_npc_set_stop_anim evt_npc.o] ["トゲノコＢ"]
805BEDB0:   end_thread
805BEDB4:   loop 0
805BEDBC:     if_int_ne GW(1) 1
805BEDC8:       loop_break
805BEDCC:     endif
805BEDD0:     wait_frames 1
805BEDD8:   end_loop
805BEDDC:   return
805BEDE0:   end

--- START OF DISASSEMBLY FOR FUNCTION [kpa_01_door_close kpa_01.o] AT 805BEDE4 ---
805BEDE4:   setff GW(0) 0
805BEDF0:   setii GW(1) 1
805BEDFC:   begin_thread
805BEE00:     callc [evt_sub_intpl_msec_init evt_sub.o] 2 180 0 2000
805BEE18: 0:
805BEE20:     callc [evt_sub_intpl_msec_get_value evt_sub.o]
805BEE28:     mulf LW(0) 0.55
805BEE34:     setff GW(0) LW(0)
805BEE40:     setii GW(1) LW(1)
805BEE4C:     wait_frames 1
805BEE54:     if_int_eq LW(1) 1
805BEE60:       goto 0
805BEE68:     endif
805BEE6C:   end_thread
805BEE70:   begin_thread
805BEE74:     loop 0
805BEE7C:       if_int_ne GW(1) 1
805BEE88:         loop_break
805BEE8C:       endif
805BEE90:       setff LW(2) GW(0)
805BEE9C:       callc [evt_mapobj_rotate evt_map.o] 0 ["door_1"] 0 LW(2) 0
805BEEB8:       mulf LW(2) -1.00
805BEEC4:       callc [evt_mapobj_rotate evt_map.o] 0 ["door_2"] 0 LW(2) 0
805BEEE0:       wait_frames 1
805BEEE8:     end_loop
805BEEEC:     callc [evt_mapobj_rotate evt_map.o] 0 ["door_1"] 0 0 0
805BEF08:     callc [evt_mapobj_rotate evt_map.o] 0 ["door_2"] 0 0 0
805BEF24:   end_thread
805BEF28:   begin_thread
805BEF2C:     callc [evt_npc_set_anim evt_npc.o] ["トゲノコＡ"] ["W_3"]
805BEF3C:     loop 0
805BEF44:       if_int_ne GW(1) 1
805BEF50:         loop_break
805BEF54:       endif
805BEF58:       setff LW(2) GW(0)
805BEF64:       addf LW(2) 25.00
805BEF70:       callc [get_togenoko_pos kpa_01.o] -750.00 -50.00 -750.00 -7.50 LW(2) LW(3) LW(4)
805BEF94:       callc [evt_npc_set_position evt_npc.o] ["トゲノコＡ"] LW(3) 0 LW(4)
805BEFAC:       if_int_le LW(2) 90
805BEFB8:         callc [evt_npc_set_ry evt_npc.o] ["トゲノコＡ"] 270
805BEFC8:       endif
805BEFCC:       wait_frames 1
805BEFD4:     end_loop
805BEFD8:     callc [evt_npc_set_stop_anim evt_npc.o] ["トゲノコＡ"]
805BEFE4:   end_thread
805BEFE8:   begin_thread
805BEFEC:     callc [evt_npc_set_anim evt_npc.o] ["トゲノコＢ"] ["W_3"]
805BEFFC:     loop 0
805BF004:       if_int_ne GW(1) 1
805BF010:         loop_break
805BF014:       endif
805BF018:       setff LW(5) GW(0)
805BF024:       addf LW(5) 25.00
805BF030:       mulf LW(5) -1.00
805BF03C:       callc [get_togenoko_pos kpa_01.o] -750.00 50.00 -750.00 7.50 LW(5) LW(6) LW(7)
805BF060:       callc [evt_npc_set_position evt_npc.o] ["トゲノコＢ"] LW(6) 0 LW(7)
805BF078:       if_int_ge LW(5) -90
805BF084:         callc [evt_npc_set_ry evt_npc.o] ["トゲノコＢ"] 270
805BF094:       endif
805BF098:       wait_frames 1
805BF0A0:     end_loop
805BF0A4:     callc [evt_npc_set_walk_anim evt_npc.o] ["トゲノコＢ"]
805BF0B0:   end_thread
805BF0B4:   begin_thread
805BF0B8:     wait_ms 1500
805BF0C0:     callc [evt_mapobj_get_position evt_map.o] ["door"] LW(0) LW(1) LW(2)
805BF0D8:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_DOOR_SHUT_CASTLE1"] LW(0) LW(1) LW(2) 0
805BF0F4:   end_thread
805BF0F8:   loop 0
805BF100:     if_int_ne GW(1) 1
805BF10C:       loop_break
805BF110:     endif
805BF114:     wait_frames 1
805BF11C:   end_loop
805BF120:   wait_ms 500
805BF128:   begin_thread
805BF12C:     callc [evt_npc_set_ry evt_npc.o] ["トゲノコＡ"] 90
805BF13C:     callc [evt_npc_move_position evt_npc.o] ["トゲノコＡ"] -730 -60 1000 0 0
805BF15C:   end_thread
805BF160:   callc [evt_npc_set_ry evt_npc.o] ["トゲノコＢ"] 90
805BF170:   callc [evt_npc_move_position evt_npc.o] ["トゲノコＢ"] -730 60 1000 0 0
805BF190:   return
805BF194:   end
