ttydasm v1.0 by PistonMiner, built on Wed Jul 19 12:47:35 2017


--- START OF DISASSEMBLY FOR FUNCTION [shopper_talk_evt evt_shop.o] AT 8033CFD8 ---
8033CFD8:   callc [evt_mario_key_onoff evt_mario.o] 0
8033CFE4:   callc [get_ptr evt_shop.o] LW(10)
8033CFF0:   setii LF(10) 0
8033CFFC:   callc [get_fook_evt evt_shop.o] LW(0)
8033D008:   if_int_ne LW(0) 0
8033D014:     callss LW(0)
8033D01C:     if_int_eq LW(0) -1
8033D028:       callc [evt_mario_key_onoff evt_mario.o] 1
8033D034:       return
8033D038:     endif
8033D03C:     if_int_eq LW(0) -100
8033D048:       setii LF(10) 1
8033D054:     endif
8033D058:   endif
8033D05C:   if_int_eq GSWF(0) 0
8033D068:     setii GSWF(0) 1
8033D074:     callss [first_shopping_evt evt_shop.o]
8033D07C:     callc [evt_mario_key_onoff evt_mario.o] 1
8033D088:     return
8033D08C:   endif
8033D090:   setii LF(0) 0
8033D09C:   loop 0
8033D0A4:     callc [chk_shop_point evt_shop.o] LW(0) LW(1) LW(2)
8033D0B8:     if_int_eq GSWF(1) 1
8033D0C4:       setii LW(0) 0
8033D0D0:       callc [shop_point_item evt_shop.o] 300 LW(1) LW(2)
8033D0E4:     endif
8033D0E8:     if_int_eq LW(0) -1
8033D0F4:       if_int_eq LF(0) 1
8033D100:         callc [evt_mario_key_onoff evt_mario.o] 1
8033D10C:         return
8033D110:       endif
8033D114:       setii LF(11) 0
8033D120:       callc [evt_sub_get_mapname evt_sub.o] LW(0)
8033D12C:       if_string_eq LW(0) ["mri_07"]
8033D138:         if_int_eq GSWF(250) 1
8033D144:           callc [evt_sub_load_progresstime evt_sub.o] GSW(5) LW(0)
8033D154:           if_int_lt LW(0) 900000
8033D160:             setii LW(14) ["stg2_shop_04_1"]
8033D16C:             setii LF(11) 1
8033D178:           endif
8033D17C:         endif
8033D180:       endif
8033D184:       callc [evt_sub_get_mapname evt_sub.o] LW(0)
8033D190:       if_string_eq LW(0) ["usu_01"]
8033D19C:         if_int_eq GSWF(251) 1
8033D1A8:           callc [evt_sub_load_progresstime evt_sub.o] GSW(14) LW(0)
8033D1B8:           if_int_lt LW(0) 900000
8033D1C4:             setii LW(14) ["usugurashop_04_1"]
8033D1D0:             setii LF(11) 1
8033D1DC:           endif
8033D1E0:         endif
8033D1E4:       endif
8033D1E8:       setii LF(12) 0
8033D1F4:       callc [evt_sub_get_mapname evt_sub.o] LW(0)
8033D200:       if_string_eq LW(0) ["rsh_03_a"]
8033D20C:         setii LF(12) 1
8033D218:       endif
8033D21C:       if_string_eq LW(0) ["rsh_03_b"]
8033D228:         setii LF(12) 1
8033D234:       endif
8033D238:       if_string_eq LW(0) ["rsh_03_c"]
8033D244:         setii LF(12) 1
8033D250:       endif
8033D254:       if_int_eq LF(12) 1
8033D260:         if_int_eq GSWF(252) 1
8033D26C:           callc [evt_sub_load_progresstime evt_sub.o] GSW(23) LW(0)
8033D27C:           if_int_lt LW(0) 900000
8033D288:             setii LW(14) ["stg6_shop_04_1"]
8033D294:             setii LF(11) 1
8033D2A0:           endif
8033D2A4:         endif
8033D2A8:       endif
8033D2AC:       if_int_eq LF(11) 0
8033D2B8:         callc [get_msg evt_shop.o] LW(10) 4 LW(14)
8033D2CC:       endif
8033D2D0:       if_int_eq LF(10) 0
8033D2DC:         callc [evt_msg_print evt_msg.o] 0 LW(14) 0 0
8033D2F4:       else
8033D2F8:         setii LF(10) 0
8033D304:         callc [evt_msg_print_add evt_msg.o] 1 ["<scrl_auto><once_stop>"]
8033D314:         callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D324:       endif
8033D328:       loop_break
8033D32C:     endif
8033D330:     callc [evt_pouch_add_item evt_pouch.o] LW(1) LW(0)
8033D340:     if_int_eq LW(0) -1
8033D34C:       callc [get_msg evt_shop.o] LW(10) 29 LW(14)
8033D360:       if_int_eq LF(10) 0
8033D36C:         callc [evt_msg_print evt_msg.o] 0 LW(14) 0 0
8033D384:       else
8033D388:         setii LF(10) 0
8033D394:         callc [evt_msg_print_add evt_msg.o] 1 ["<scrl_auto><once_stop>"]
8033D3A4:         callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D3B4:       endif
8033D3B8:       loop_break
8033D3BC:     endif
8033D3C0:     callc [get_msg evt_shop.o] LW(10) 28 LW(14)
8033D3D4:     if_int_eq LF(10) 0
8033D3E0:       callc [evt_sub_get_language evt_sub.o] LW(0)
8033D3EC:       switchi LW(0)
8033D3F4:         case_int_eq 0
8033D3FC:           callc [evt_msg_print_insert evt_msg.o] 0 LW(14) 0 0 LW(2)
8033D418:         case_default
8033D41C:           callc [unk_800d12b0 evt_msg.o] 0 LW(14) LW(14) LW(2)
8033D434:           callc [evt_msg_print evt_msg.o] 1 LW(14) 0 0
8033D44C:       end_switch
8033D450:     else
8033D454:       setii LF(10) 0
8033D460:       callc [evt_msg_print_add evt_msg.o] 1 ["<scrl_auto><once_stop>"]
8033D470:       callc [evt_sub_get_language evt_sub.o] LW(0)
8033D47C:       switchi LW(0)
8033D484:         case_int_eq 0
8033D48C:           callc [evt_msg_print_insert evt_msg.o] 0 LW(14) 0 0 LW(2)
8033D4A8:         case_default
8033D4AC:           callc [unk_800d12b0 evt_msg.o] 0 LW(14) LW(14) LW(2)
8033D4C4:           callc [evt_msg_print evt_msg.o] 1 LW(14) 0 0
8033D4DC:       end_switch
8033D4E0:     endif
8033D4E4:     if_int_eq GSWF(1) 0
8033D4F0:       callc [exchange_shop_point evt_shop.o]
8033D4F8:     endif
8033D4FC:     setii LF(0) 1
8033D508:     if_int_eq GSWF(1) 1
8033D514:       setii GSWF(1) 0
8033D520:     endif
8033D524:   end_loop
8033D528:   callc [shop_flag_onoff evt_shop.o] 1 16384
8033D538:   callc [get_msg evt_shop.o] LW(10) 23 LW(14)
8033D54C:   callc [evt_msg_select evt_msg.o] 0 LW(14)
8033D55C:   callc [shop_flag_onoff evt_shop.o] 0 16384
8033D56C:   switchi LW(0)
8033D574:     case_int_eq 0
8033D57C:       callc [get_msg evt_shop.o] LW(10) 5 LW(14)
8033D590:       callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D5A0:     case_int_eq 1
8033D5A8:       callss [sell_evt evt_shop.o]
8033D5B0:     case_int_eq 2
8033D5B8:       callss [keep_evt evt_shop.o]
8033D5C0:     case_int_eq 3
8033D5C8:       callss [unkeep_evt evt_shop.o]
8033D5D0:     case_int_eq 4
8033D5D8:       callss [point_evt evt_shop.o]
8033D5E0:     case_int_eq 5
8033D5E8:       callc [evt_msg_continue evt_msg.o]
8033D5F0:   end_switch
8033D5F4:   callc [evt_mario_key_onoff evt_mario.o] 1
8033D600:   return
8033D604:   end

--- START OF DISASSEMBLY FOR FUNCTION [first_shopping_evt evt_shop.o] AT 8033D608 ---
8033D608:   callc [shopper_name evt_shop.o] LW(9)
8033D614:   callc [evt_set_dir_to_target evt_npc.o] LW(9) ["mario"]
8033D624:   callc [evt_mario_set_dir_npc evt_mario.o] LW(9)
8033D630:   callc [get_msg evt_shop.o] LW(10) 30 LW(14)
8033D644:   if_int_eq LF(10) 0
8033D650:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 LW(9)
8033D668:   else
8033D66C:     setii LF(10) 0
8033D678:     callc [evt_msg_print_add evt_msg.o] 1 ["<scrl_auto><once_stop>"]
8033D688:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D698:   endif
8033D69C:   loop 0
8033D6A4:     callc [get_msg evt_shop.o] LW(10) 31 LW(14)
8033D6B8:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 LW(9)
8033D6D0:     callc [get_msg evt_shop.o] LW(10) 24 LW(14)
8033D6E4:     callc [evt_msg_select evt_msg.o] 0 LW(14)
8033D6F4:     if_int_eq LW(0) 0
8033D700:       callc [get_msg evt_shop.o] LW(10) 32 LW(14)
8033D714:       callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D724:     else
8033D728:       callc [get_msg evt_shop.o] LW(10) 33 LW(14)
8033D73C:       callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D74C:       return
8033D750:     endif
8033D754:   end_loop
8033D758:   return
8033D75C:   end

--- START OF DISASSEMBLY FOR FUNCTION [sell_evt evt_shop.o] AT 8033D760 ---
8033D760:   callc [sell_pouchcheck_func evt_shop.o]
8033D768:   if_int_eq LW(0) 0
8033D774:     callc [get_msg evt_shop.o] LW(10) 6 LW(14)
8033D788:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D798:     return
8033D79C:   endif
8033D7A0:   callc [get_msg evt_shop.o] LW(10) 7 LW(14)
8033D7B4:   callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D7C4:   callc [evt_win_coin_on evt_window.o] 0 LW(8)
8033D7D4: 0:
8033D7DC:   callc [item_data_db_arrange evt_shop.o]
8033D7E4:   callc [evt_win_item_select evt_window.o] 1 3 LW(1) LW(4)
8033D7FC:   callc [item_data_db_restore evt_shop.o]
8033D804:   if_int_le LW(1) 0
8033D810:     callc [get_msg evt_shop.o] LW(10) 22 LW(14)
8033D824:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033D83C:     callc [evt_win_coin_off evt_window.o] LW(8)
8033D848:     return
8033D84C:   endif
8033D850:   callc [item_data_db_arrange evt_shop.o]
8033D858:   callc [name_price evt_shop.o] LW(1) LW(2) LW(3)
8033D86C:   callc [item_data_db_restore evt_shop.o]
8033D874:   callc [get_msg evt_shop.o] LW(10) 8 LW(14)
8033D888:   callc [evt_sub_get_language evt_sub.o] LW(0)
8033D894:   switchi LW(0)
8033D89C:     case_int_eq 0
8033D8A4:       callc [evt_msg_print_insert evt_msg.o] 0 LW(14) 0 ["me"] LW(2) LW(3)
8033D8C4:     case_default
8033D8C8:       callc [unk_800d0998 evt_msg.o] 0 LW(14) LW(14) LW(3)
8033D8E0:       callc [unk_800d12b0 evt_msg.o] 1 LW(14) LW(14) LW(2)
8033D8F8:       callc [evt_msg_print evt_msg.o] 1 LW(14) 0 ["me"]
8033D910:   end_switch
8033D914:   callc [get_msg evt_shop.o] LW(10) 24 LW(14)
8033D928:   callc [evt_msg_select evt_msg.o] 0 LW(14)
8033D938:   if_int_eq LW(0) 1
8033D944:     callc [get_msg evt_shop.o] LW(10) 9 LW(14)
8033D958:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D968:     goto 0
8033D970:   endif
8033D974:   callc [N_evt_pouch_remove_item_index evt_pouch.o] LW(1) LW(4) LW(0)
8033D988:   callc [evt_pouch_add_coin evt_pouch.o] LW(3)
8033D994:   callc [evt_win_coin_wait evt_window.o] LW(8)
8033D9A0:   wait_ms 200
8033D9A8:   callc [evt_win_coin_off evt_window.o] LW(8)
8033D9B4:   callc [sell_pouchcheck_func evt_shop.o]
8033D9BC:   if_int_eq LW(0) 0
8033D9C8:     callc [get_msg evt_shop.o] LW(10) 11 LW(14)
8033D9DC:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033D9EC:     return
8033D9F0:   endif
8033D9F4:   callc [get_msg evt_shop.o] LW(10) 10 LW(14)
8033DA08:   callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DA18:   callc [get_msg evt_shop.o] LW(10) 24 LW(14)
8033DA2C:   callc [evt_msg_select evt_msg.o] 0 LW(14)
8033DA3C:   if_int_eq LW(0) 1
8033DA48:     callc [get_msg evt_shop.o] LW(10) 22 LW(14)
8033DA5C:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DA6C:     return
8033DA70:   endif
8033DA74:   callc [evt_msg_continue evt_msg.o]
8033DA7C:   callc [evt_win_coin_on evt_window.o] 0 LW(8)
8033DA8C:   goto 0
8033DA94:   return
8033DA98:   end

--- START OF DISASSEMBLY FOR FUNCTION [keep_evt evt_shop.o] AT 8033DA9C ---
8033DA9C:   callc [keep_pouchcheck_func evt_shop.o]
8033DAA4:   if_int_eq LW(0) 0
8033DAB0:     callc [get_msg evt_shop.o] LW(10) 12 LW(14)
8033DAC4:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DAD4:     return
8033DAD8:   endif
8033DADC:   if_int_eq LW(1) 0
8033DAE8:     callc [get_msg evt_shop.o] LW(10) 13 LW(14)
8033DAFC:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DB0C:     return
8033DB10:   endif
8033DB14:   callc [get_msg evt_shop.o] LW(10) 14 LW(14)
8033DB28:   callc [evt_sub_get_language evt_sub.o] LW(0)
8033DB34:   switchi LW(0)
8033DB3C:     case_int_eq 0
8033DB44:       callc [evt_msg_print_add_insert evt_msg.o] 0 LW(14) LW(1)
8033DB58:     case_default
8033DB5C:       callc [unk_800d0998 evt_msg.o] 0 LW(14) LW(14) LW(1)
8033DB74:       callc [evt_msg_print_add evt_msg.o] 1 LW(14)
8033DB84:   end_switch
8033DB88: 0:
8033DB90:   callc [evt_win_item_select evt_window.o] 1 4 LW(1) LW(4)
8033DBA8:   if_int_le LW(1) 0
8033DBB4:     callc [get_msg evt_shop.o] LW(10) 22 LW(14)
8033DBC8:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033DBE0:     return
8033DBE4:   endif
8033DBE8:   callc [N_evt_pouch_remove_item_index evt_pouch.o] LW(1) LW(4) LW(0)
8033DBFC:   callc [evt_pouch_add_keepitem evt_pouch.o] LW(1) LW(0)
8033DC0C:   callc [keep_pouchcheck_func evt_shop.o]
8033DC14:   setii LF(0) 0
8033DC20:   if_int_eq LW(0) 0
8033DC2C:     setii LF(0) 1
8033DC38:   endif
8033DC3C:   if_int_eq LW(1) 0
8033DC48:     setii LF(0) 1
8033DC54:   endif
8033DC58:   if_int_eq LF(0) 1
8033DC64:     callc [get_msg evt_shop.o] LW(10) 15 LW(14)
8033DC78:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033DC90:     return
8033DC94:   endif
8033DC98:   callc [get_msg evt_shop.o] LW(10) 16 LW(14)
8033DCAC:   callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033DCC4:   callc [get_msg evt_shop.o] LW(10) 24 LW(14)
8033DCD8:   callc [evt_msg_select evt_msg.o] 0 LW(14)
8033DCE8:   if_int_eq LW(0) 1
8033DCF4:     callc [get_msg evt_shop.o] LW(10) 22 LW(14)
8033DD08:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DD18:     return
8033DD1C:   endif
8033DD20:   callc [evt_msg_continue evt_msg.o]
8033DD28:   goto 0
8033DD30:   return
8033DD34:   end

--- START OF DISASSEMBLY FOR FUNCTION [unkeep_evt evt_shop.o] AT 8033DD38 ---
8033DD38:   callc [unkeep_pouchcheck_func evt_shop.o]
8033DD40:   if_int_eq LW(0) 0
8033DD4C:     callc [get_msg evt_shop.o] LW(10) 17 LW(14)
8033DD60:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DD70:     return
8033DD74:   endif
8033DD78:   if_int_eq LW(1) 0
8033DD84:     callc [get_msg evt_shop.o] LW(10) 18 LW(14)
8033DD98:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DDA8:     return
8033DDAC:   endif
8033DDB0:   callc [get_msg evt_shop.o] LW(10) 19 LW(14)
8033DDC4:   callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DDD4: 0:
8033DDDC:   callc [evt_win_item_select evt_window.o] 1 5 LW(1) LW(4)
8033DDF4:   if_int_le LW(1) 0
8033DE00:     callc [get_msg evt_shop.o] LW(10) 22 LW(14)
8033DE14:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033DE2C:     return
8033DE30:   endif
8033DE34:   callc [evt_pouch_remove_keepitem evt_pouch.o] LW(1) LW(4) LW(0)
8033DE48:   callc [evt_pouch_add_item evt_pouch.o] LW(1) LW(0)
8033DE58:   callc [unkeep_pouchcheck_func evt_shop.o]
8033DE60:   setii LF(0) 0
8033DE6C:   if_int_eq LW(0) 0
8033DE78:     setii LF(0) 1
8033DE84:   endif
8033DE88:   if_int_eq LW(1) 0
8033DE94:     setii LF(0) 1
8033DEA0:   endif
8033DEA4:   if_int_eq LF(0) 1
8033DEB0:     callc [get_msg evt_shop.o] LW(10) 20 LW(14)
8033DEC4:     callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033DEDC:     return
8033DEE0:   endif
8033DEE4:   callc [get_msg evt_shop.o] LW(10) 21 LW(14)
8033DEF8:   callc [evt_msg_print evt_msg.o] 0 LW(14) 0 ["me"]
8033DF10:   callc [get_msg evt_shop.o] LW(10) 24 LW(14)
8033DF24:   callc [evt_msg_select evt_msg.o] 0 LW(14)
8033DF34:   if_int_eq LW(0) 1
8033DF40:     callc [get_msg evt_shop.o] LW(10) 22 LW(14)
8033DF54:     callc [evt_msg_print_add evt_msg.o] 0 LW(14)
8033DF64:     return
8033DF68:   endif
8033DF6C:   callc [evt_msg_continue evt_msg.o]
8033DF74:   goto 0
8033DF7C:   return
8033DF80:   end

--- START OF DISASSEMBLY FOR FUNCTION [point_evt evt_shop.o] AT 8033DF84 ---
8033DF84:   callc [get_shop_point evt_shop.o] LW(1)
8033DF90:   callc [get_msg evt_shop.o] LW(10) 25 LW(14)
8033DFA4:   callc [evt_sub_get_language evt_sub.o] LW(0)
8033DFB0:   switchi LW(0)
8033DFB8:     case_int_eq 0
8033DFC0:       callc [evt_msg_print_add_insert evt_msg.o] 0 LW(14) LW(1)
8033DFD4:     case_default
8033DFD8:       callc [unk_800d0998 evt_msg.o] 0 LW(14) LW(14) LW(1)
8033DFF0:       callc [evt_msg_print_add evt_msg.o] 1 LW(14)
8033E000:   end_switch
8033E004:   return
8033E008:   end
