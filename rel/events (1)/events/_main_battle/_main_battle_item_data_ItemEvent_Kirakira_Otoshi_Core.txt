ttydasm v1.0 by PistonMiner, built on Wed Jul 19 12:47:35 2017


--- START OF DISASSEMBLY FOR FUNCTION [ItemEvent_Kirakira_Otoshi_Core battle_item_data.o] AT 80366DC8 ---
80366DC8:   callc [evt_btl_camera_set_mode battle_camera.o] 0 0
80366DD8:   callc [evt_btl_camera_set_moveSpeedLv battle_camera.o] 0 1
80366DE8:   wait_frames 30
80366DF0:   callc [btlevtcmd_CheckCommandUnit battle_event_cmd.o] -2 LW(0)
80366E00:   if_int_ne LW(0) 0
80366E0C:     setii LW(15) 0
80366E18:     callc [btlevtcmd_CheckWeaponPluralTarget battle_event_cmd.o] LW(12) LW(0)
80366E28:     if_int_ne LW(0) 0
80366E34:       callc [btlevtcmd_GetEnemyBelong battle_event_cmd.o] -2 LW(0)
80366E44:       callc [btlevtcmd_SamplingEnemy battle_event_cmd.o] -2 LW(0) LW(12)
80366E58:       setii LW(15) 1
80366E64:     endif
80366E68:     callc [btlevtcmd_GetSelectEnemy battle_event_cmd.o] LW(10) LW(11)
80366E78:   else
80366E7C:     callc [btlevtcmd_CheckWeaponPluralTarget battle_event_cmd.o] LW(12) LW(0)
80366E8C:     if_int_ne LW(0) 0
80366E98:       setii LW(15) 1
80366EA4:       callc [btlevtcmd_GetEnemyBelong battle_event_cmd.o] -2 LW(0)
80366EB4:       callc [btlevtcmd_SamplingEnemy battle_event_cmd.o] -2 LW(0) LW(12)
80366EC8:       callc [btlevtcmd_GetSelectEnemy battle_event_cmd.o] LW(10) LW(11)
80366ED8:     else
80366EDC:       setii LW(15) 0
80366EE8:       callc [btlevtcmd_GetEnemyBelong battle_event_cmd.o] -2 LW(0)
80366EF8:       callc [btlevtcmd_SamplingEnemy battle_event_cmd.o] -2 LW(0) LW(12)
80366F0C:       callc [btlevtcmd_ChoiceSamplingEnemy battle_event_cmd.o] LW(12) LW(10) LW(11)
80366F20:     endif
80366F24:   endif
80366F28:   callc [evt_snd_sfxon evt_snd.o] ["SFX_ITEM_KIRAKIRA_FALL1"] 0
80366F38:   if_int_eq LW(15) 0
80366F44:     callc [btlevtcmd_GetPos battle_event_cmd.o] -2 LW(0) LW(1) LW(2)
80366F5C:     callc [btlevtcmd_GetStageSize battle_event_cmd.o] [F1194D80] LW(1) [F1194D80]
80366F70:     callc [btlevtcmd_GetHitPos battle_event_cmd.o] LW(10) LW(11) LW(3) LW(4) LW(5)
80366F8C:     callc [evt_eff64 evt_eff.o] [zero_804227c0 battle_item_data.o] ["sstar_n64"] 2 LW(0) LW(1) LW(2) LW(3) LW(4) LW(5) 10.00 0 0 0 0
80366FCC:     callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_ITEM_KIRAKIRA_FALL1"] LW(0) LW(1) LW(2) 0
80366FE8:     wait_frames 50
80366FF0:   else
80366FF4:     begin_child_thread
80366FF8:       wait_ms 500
80367000:       loop 5
80367008:         callc [evt_btl_camera_shake_h battle_camera.o] 0 5 0 20 12
80367024:         wait_ms 400
8036702C:         wait_ms 200
80367034:       end_loop
80367038:     end_child_thread
8036703C:     begin_child_thread_tid LW(15)
80367044:       loop 5
8036704C:         callc [evt_sub_random evt_sub.o] 6 LW(0)
8036705C:         addi LW(0) 27
80367068:         wait_frames LW(0)
80367070:         callc [btlevtcmd_GetEnemyBelong battle_event_cmd.o] -2 LW(0)
80367080:         callc [_sampling_random_target battle_item_data.o] LW(12) LW(10) LW(11) LW(0)
80367098:         if_int_ne LW(10) -1
803670A4:           callc [btlevtcmd_GetHitPos battle_event_cmd.o] LW(10) LW(11) LW(0) LW(1) LW(2)
803670C0:           callc [evt_eff evt_eff.o] 0 ["hit"] 0 LW(0) LW(1) LW(2) 1.00 3 0 0 0 0 0 0
80367100:         endif
80367104:       end_loop
80367108:     end_child_thread
8036710C:     begin_child_thread
80367110:       loop 7
80367118:         callc [evt_snd_sfxon_3d evt_snd.o] ["SFX_ITEM_KIRAKIRA_FALL1"] LW(0) LW(1) LW(2) 0
80367134:         wait_ms 500
8036713C:       end_loop
80367140:     end_child_thread
80367144:     loop 60
8036714C:       callc [btlevtcmd_GetPos battle_event_cmd.o] -2 LW(0) LW(1) LW(2)
80367164:       callc [btlevtcmd_GetStageSize battle_event_cmd.o] [F1194D80] LW(1) [F1194D80]
80367178:       callc [evt_sub_random evt_sub.o] 200 LW(0)
80367188:       callc [evt_sub_random evt_sub.o] 320 LW(3)
80367198:       callc [btlevtcmd_GetFriendBelong battle_event_cmd.o] LW(10) LW(6)
803671A8:       if_int_eq LW(6) 0
803671B4:         muli LW(3) -1
803671C0:         setii LW(4) 0
803671CC:       else
803671D0:         muli LW(0) -1
803671DC:         setii LW(4) 0
803671E8:       endif
803671EC:       callc [btlevtcmd_check_battleflag battle_event_cmd.o] LW(8) 256
803671FC:       if_int_eq LW(8) 0
80367208:         setii LW(2) 0
80367214:         setii LW(5) 0
80367220:       else
80367224:         setii LW(2) 200
80367230:         setii LW(5) 200
8036723C:       endif
80367240:       callc [evt_sub_random evt_sub.o] 120 LW(8)
80367250:       subi LW(8) 60
8036725C:       addi LW(5) LW(8)
80367268:       callc [evt_sub_random evt_sub.o] 120 LW(8)
80367278:       subi LW(8) 60
80367284:       addi LW(2) LW(8)
80367290:       callc [btlevtcmd_TransStageFloorPosition battle_event_cmd.o] LW(3) LW(4) LW(5)
803672A4:       callc [evt_eff64 evt_eff.o] [zero_804227c0 battle_item_data.o] ["sstar_n64"] 2 LW(0) LW(1) LW(2) LW(3) LW(4) LW(5) 8.00 0 0 0 0
803672E4:       wait_frames 3
803672EC:     end_loop
803672F0:     wait_frames 50
803672F8:     callc [btlevtcmd_WaitEventEnd battle_event_cmd.o] LW(15)
80367304:     callc [btlevtcmd_CheckCommandUnit battle_event_cmd.o] -2 LW(0)
80367314:     if_int_ne LW(0) 0
80367320:       callc [btlevtcmd_GetEnemyBelong battle_event_cmd.o] -2 LW(0)
80367330:       callc [btlevtcmd_SamplingEnemy battle_event_cmd.o] -2 LW(0) LW(12)
80367344:       callc [btlevtcmd_GetSelectEnemy battle_event_cmd.o] LW(10) LW(11)
80367354:     else
80367358:       callc [btlevtcmd_GetEnemyBelong battle_event_cmd.o] -2 LW(0)
80367368:       callc [btlevtcmd_SamplingEnemy battle_event_cmd.o] -2 LW(0) LW(12)
8036737C:       callc [btlevtcmd_GetSelectEnemy battle_event_cmd.o] LW(10) LW(11)
8036738C:     endif
80367390:   endif
80367394: 10:
8036739C:   if_int_eq LW(10) -1
803673A8:     goto 90
803673B0:   endif
803673B4:   callc [btlevtcmd_PreCheckDamage battle_event_cmd.o] -2 LW(10) LW(11) LW(12) 256 LW(5)
803673D4:   switchi LW(5)
803673DC:     case_int_eq 3
803673E4:       callc [btlevtcmd_StartAvoid battle_event_cmd.o] LW(10) 38
803673F4:     case_int_eq 6
803673FC:       callc [btlevtcmd_StartAvoid battle_event_cmd.o] LW(10) 39
8036740C:     case_int_eq 2
80367414:       callc [btlevtcmd_StartAvoid battle_event_cmd.o] LW(10) 40
80367424:     case_int_eq 1
8036742C:       callc [btlevtcmd_CheckDamage battle_event_cmd.o] -2 LW(10) LW(11) LW(12) 256 LW(5)
8036744C:   end_switch
80367450:   callc [btlevtcmd_CheckWeaponPluralTarget battle_event_cmd.o] LW(12) LW(0)
80367460:   if_int_ne LW(0) 0
8036746C:     callc [btlevtcmd_GetSelectNextEnemy battle_event_cmd.o] LW(10) LW(11)
8036747C:   else
80367480:     setii LW(10) -1
8036748C:   endif
80367490:   wait_ms 80
80367498:   goto 10
803674A0: 90:
803674A8:   callc [evt_audience_ap_recovery evt_audience.o]
803674B0:   wait_frames 150
803674B8:   callss [_return_home_event battle_item_data.o]
803674C0:   callc [btlevtcmd_StartWaitEvent battle_event_cmd.o] -2
803674CC:   return
803674D0:   end

--- START OF DISASSEMBLY FOR FUNCTION [_return_home_event battle_item_data.o] AT 80364998 ---
80364998:   callc [btlevtcmd_GetHomePos battle_event_cmd.o] -2 LW(0) LW(1) LW(2)
803649B0: 95:
803649B8:   callc [btlevtcmd_GetPos battle_event_cmd.o] -2 LW(3) LW(4) LW(5)
803649D0:   if_int_ne LW(0) LW(3)
803649DC:     begin_child_thread
803649E0:       callc [btlevtcmd_GetBodyId battle_event_cmd.o] -2 LW(0)
803649F0:       callc [btlevtcmd_AnimeChangePoseType battle_event_cmd.o] -2 LW(0) 42
80364A04:     end_child_thread
80364A08:     callc [btlevtcmd_SetMoveSpeed battle_event_cmd.o] -2 5.00
80364A18:     callc [btlevtcmd_MovePosition battle_event_cmd.o] -2 LW(0) LW(1) LW(2) 0 -1 0
80364A3C:   endif
80364A40:   return
80364A44:   end
