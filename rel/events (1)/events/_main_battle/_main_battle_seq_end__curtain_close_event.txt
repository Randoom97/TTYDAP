ttydasm v1.0 by PistonMiner, built on Wed Jul 19 12:47:35 2017


--- START OF DISASSEMBLY FOR FUNCTION [_curtain_close_event battle_seq_end.o] AT 803AFC4C ---
803AFC4C:   begin_child_thread
803AFC50:     callc [evt_batstage_set_stg_dark evt_batstage.o] 80 30 0
803AFC64:     callc [evt_batstage_set_stg_dark_base evt_batstage.o] 80 30 0
803AFC78:   end_child_thread
803AFC7C:   begin_child_thread
803AFC80:     callc [evt_fade_entry evt_fade.o] 24 1000 0 0 0
803AFC9C:     callc [evt_fade_set_anim_ofs_pos evt_fade.o] 0 130
803AFCAC:     callc [evt_fade_set_anim_virtual_pos evt_fade.o] 0 0 80
803AFCC0:     callc [evt_fade_end_wait evt_fade.o]
803AFCC8:   end_child_thread
803AFCCC:   callc [btlevtcmd_check_battleflag battle_event_cmd.o] LW(0) 256
803AFCDC:   if_int_ne LW(0) 0
803AFCE8:     begin_child_thread
803AFCEC:       callc [btlevtcmd_AnimeChangePoseType battle_event_cmd.o] -3 1 42
803AFD00:       callc [btlevtcmd_GetPos battle_event_cmd.o] -3 LW(0) LW(1) LW(2)
803AFD18:       callc [btlevtcmd_MovePosition battle_event_cmd.o] -3 -300 LW(1) LW(2) 120 -1 0
803AFD3C:     end_child_thread
803AFD40:     callc [btlevtcmd_GetUnitId battle_event_cmd.o] -4 LW(3)
803AFD50:     if_int_ne LW(3) -1
803AFD5C:       begin_child_thread
803AFD60:         callc [btlevtcmd_GetBodyId battle_event_cmd.o] LW(3) LW(4)
803AFD70:         callc [btlevtcmd_AnimeChangePoseType battle_event_cmd.o] LW(3) LW(4) 42
803AFD84:         callc [btlevtcmd_GetPos battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2)
803AFD9C:         callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) -330 LW(1) LW(2) 120 -1 0
803AFDC0:       end_child_thread
803AFDC4:     endif
803AFDC8:   endif
803AFDCC:   begin_child_thread
803AFDD0:     callc [evt_sub_intpl_init_float evt_sub.o] 0 0 -40.00 29
803AFDE8:     loop 30
803AFDF0:       callc [evt_sub_intpl_get_float evt_sub.o] LW(0) [F1194D80]
803AFE00:       callc [_nozzle_set_offset battle_seq_end.o] ["nozzle_l"] LW(0)
803AFE10:       wait_frames 1
803AFE18:     end_loop
803AFE1C:   end_child_thread
803AFE20:   begin_child_thread
803AFE24:     callc [evt_sub_intpl_init_float evt_sub.o] 0 0 -40.00 29
803AFE3C:     loop 30
803AFE44:       callc [evt_sub_intpl_get_float evt_sub.o] LW(0) [F1194D80]
803AFE54:       callc [_nozzle_set_offset battle_seq_end.o] ["nozzle_c"] LW(0)
803AFE64:       wait_frames 1
803AFE6C:     end_loop
803AFE70:   end_child_thread
803AFE74:   begin_child_thread
803AFE78:     callc [evt_sub_intpl_init_float evt_sub.o] 0 0 -40.00 29
803AFE90:     loop 30
803AFE98:       callc [evt_sub_intpl_get_float evt_sub.o] LW(0) [F1194D80]
803AFEA8:       callc [_nozzle_set_offset battle_seq_end.o] ["nozzle_r"] LW(0)
803AFEB8:       wait_frames 1
803AFEC0:     end_loop
803AFEC4:   end_child_thread
803AFEC8:   callc [btlevtcmd_onoff_battleflag battle_event_cmd.o] 0 256
803AFED8:   callc [evt_btl_camera_set_mode battle_camera.o] 0 0
803AFEE8:   callc [evt_btl_camera_set_moveSpeedLv battle_camera.o] 0 1
803AFEF8:   wait_ms 1500
803AFF00:   begin_child_thread
803AFF04:     loop 6
803AFF0C:       callc [evt_eff evt_eff.o] [float_0_8042715c battle_seq_end.o] ["confetti"] 13 0 300 95 180 0 0 0 0 0 0 0
803AFF4C:       wait_frames 20
803AFF54:     end_loop
803AFF58:   end_child_thread
803AFF5C:   callsa_tid [_confetti_control_event battle_seq_end.o] LW(0)
803AFF68:   callc [_set_confetti_control_evtid battle_seq_end.o] LW(0)
803AFF74:   callc [evt_eff evt_eff.o] [float_0_8042715c battle_seq_end.o] ["levelup"] 0 0 50 100 60 0 0 0 0 0 0 0
803AFFB4:   wait_frames 48
803AFFBC:   callc [_lvup_ap_recover_full battle_seq_end.o]
803AFFC4:   wait_ms 1000
803AFFCC:   begin_child_thread_tid LW(15)
803AFFD4:     wait_frames 2
803AFFDC:     callc [_lvup_spot_on battle_seq_end.o] 0
803AFFE8:     callc [_lvup_spot_move battle_seq_end.o] 0
803AFFF4:   end_child_thread
803AFFF8:   callc [_disable_enemy_unit_disp battle_seq_end.o]
803B0000:   begin_child_thread
803B0004:     callc [btlevtcmd_GetUnitId battle_event_cmd.o] -4 LW(3)
803B0014:     if_int_ne LW(3) -1
803B0020:       callc [btlevtcmd_SetPos battle_event_cmd.o] LW(3) -230 0 90
803B0038:       callc [btlevtcmd_ClearAllStatus battle_event_cmd.o] LW(3)
803B0044:       callc [btlevtcmd_GetBodyId battle_event_cmd.o] LW(3) LW(4)
803B0054:       callc [btlevtcmd_AnimeChangePoseType battle_event_cmd.o] LW(3) LW(4) 40
803B0068:       setii LW(0) -155
803B0074:       setii LW(1) 0
803B0080:       setii LW(2) 90
803B008C:       setii LW(6) 28
803B0098:       callc [btlevtcmd_GetUnitKind battle_event_cmd.o] LW(3) LW(5)
803B00A8:       switchi LW(5)
803B00B0:         case_int_eq_any 224
803B00B8:         case_int_eq_any 225
803B00C0:           callc [btlevtcmd_SetMoveSoundDataWork battle_event_cmd.o] LW(3) ["SFX_PARTY_BATTLE_SUBMOVE1L"] ["SFX_PARTY_BATTLE_SUBMOVE1R"] 6 12 16 0 0
803B00E8:           callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2) LW(6) -2 1
803B010C:           end_multi_case
803B0110:         case_int_eq 226
803B0118:           callc [btlevtcmd_SetMoveSoundDataWork battle_event_cmd.o] LW(3) ["SFX_PARTY_BATTLE_SUBMOVE1L"] ["SFX_PARTY_BATTLE_SUBMOVE1R"] 0 6 6 0 0
803B0140:           callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2) LW(6) -2 1
803B0164:         case_int_eq 227
803B016C:           callc [btlevtcmd_SetMoveSoundDataWork battle_event_cmd.o] LW(3) ["SFX_PARTY_BATTLE_SUBHANG1"] ["SFX_PARTY_BATTLE_SUBHANG1"] 6 12 16 0 0
803B0194:           callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2) LW(6) -2 1
803B01B8:         case_int_eq 228
803B01C0:           callc [btlevtcmd_SetMoveSoundDataWork battle_event_cmd.o] LW(3) ["SFX_PARTY_BATTLE_SUBHANG1"] ["SFX_PARTY_BATTLE_SUBHANG1"] 0 15 13 0 0
803B01E8:           callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2) LW(6) -2 1
803B020C:         case_int_eq 229
803B0214:           callc [btlevtcmd_SetMoveSoundDataWork battle_event_cmd.o] LW(3) ["SFX_PARTY_BATTLE_SUBMOVE1L"] ["SFX_PARTY_BATTLE_SUBMOVE1R"] 0 18 18 0 0
803B023C:           callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2) LW(6) -2 1
803B0260:         case_int_eq 230
803B0268:           callc [btlevtcmd_SetMoveSoundDataWork battle_event_cmd.o] LW(3) ["SFX_PARTY_BATTLE_SUBMOVE1L"] ["SFX_PARTY_BATTLE_SUBMOVE1R"] 0 15 13 0 0
803B0290:           callc [btlevtcmd_MovePosition battle_event_cmd.o] LW(3) LW(0) LW(1) LW(2) LW(6) -2 1
803B02B4:       end_switch
803B02B8:       callc [btlevtcmd_AnimeChangePoseType battle_event_cmd.o] LW(3) LW(4) 43
803B02CC:     endif
803B02D0:   end_child_thread
803B02D4:   callc [btlevtcmd_SetPos battle_event_cmd.o] -3 -200 0 90
803B02EC:   callc [btlevtcmd_ClearAllStatus battle_event_cmd.o] -3
803B02F8:   callc [btlevtcmd_AnimeChangePoseType battle_event_cmd.o] -3 1 40
803B030C:   callc [btlevtcmd_MovePosition battle_event_cmd.o] -3 0 0 90 75 -1 0
803B0330:   callc [btlevtcmd_snd_se battle_event_cmd.o] -3 ["SFX_VOICE_MARIO_PAUSE2"] [F1194D80] 0 [F1194D80]
803B034C:   callc [btlevtcmd_AnimeChangePose battle_event_cmd.o] -3 1 ["M_V_2"]
803B0360:   callc [evt_audience_sound_cheer evt_audience.o] 180 40
803B0370:   wait_ms 1000
803B0378:   callc [_lvup_select_object_init battle_seq_end.o]
803B0380:   begin_child_thread
803B0384:     callc [_lvup_spot_off battle_seq_end.o] 30
803B0390:   end_child_thread
803B0394:   begin_thread_tid LW(10)
803B039C:     callc [evt_batstage_set_stg_dark evt_batstage.o] 0 30 0
803B03B0:     callc [evt_batstage_set_stg_dark_base evt_batstage.o] 0 30 0
803B03C4:     callc [_lvup_obj_set_color battle_seq_end.o] 0 100 128 128 255
803B03E0:     callc [_lvup_obj_set_color battle_seq_end.o] 1 100 128 128 255
803B03FC:     callc [_lvup_obj_set_color battle_seq_end.o] 2 100 128 128 255
803B0418:     callc [evt_batstage_set_aud_dark evt_batstage.o] 0 60 0
803B042C:     callc [evt_fade_entry evt_fade.o] 25 1000 0 0 0
803B0448:     callc [evt_fade_set_anim_ofs_pos evt_fade.o] 0 130
803B0458:     callc [evt_fade_set_anim_virtual_pos evt_fade.o] 0 0 80
803B046C:     callc [evt_fade_end_wait evt_fade.o]
803B0474:   end_thread
803B0478:   callc [btlevtcmd_WaitEventEnd battle_event_cmd.o] LW(10)
803B0484:   begin_child_thread_tid LW(10)
803B048C:     setii LW(5) 5
803B0498:     loop LW(5)
803B04A0:       callc [N__display_select_one_to_upgrade_text battle_seq_end.o]
803B04A8:       wait_frames 1
803B04B0:       setii LW(5) 5
803B04BC:     end_loop
803B04C0:   end_child_thread
803B04C4: 60:
803B04CC:   callc [btlevtcmd_PadCheckTrigger battle_event_cmd.o] 0 262144 LW(0)
803B04E0:   if_int_ne LW(0) 0
803B04EC:     begin_child_thread_tid LW(0)
803B04F4:       callc [N__set_initial_upgrade_cursor_position battle_seq_end.o] 2
803B0500:       callc [btlevtcmd_BtlStageObjSetRotate battle_event_cmd.o] ["spotlight"] 0 0 70
803B0518:       callc [btlevtcmd_BtlStageObjFlagOnOff battle_event_cmd.o] ["spotlight"] 1 0
803B052C:       callc [evt_sub_intpl_init evt_sub.o] 5 70 30 10
803B0544:       loop 11
803B054C:         callc [evt_sub_intpl_get_value evt_sub.o]
803B0554:         callc [btlevtcmd_BtlStageObjSetRotate battle_event_cmd.o] ["spotlight"] 0 0 LW(0)
803B056C:         wait_frames 1
803B0574:       end_loop
803B0578:       callc [_lvup_obj_set_color battle_seq_end.o] 2 255 255 255 255
803B0594:       callc [_lvup_disp_flag_onoff battle_seq_end.o] 2 32
803B05A4:       callc [_lvup_select_obj_disp_on battle_seq_end.o]
803B05AC:     end_child_thread
803B05B0:     callc [btlevtcmd_WaitEventEnd battle_event_cmd.o] LW(0)
803B05BC:     goto 69
803B05C4:   endif
803B05C8: 61:
803B05D0:   callc [btlevtcmd_PadCheckTrigger battle_event_cmd.o] 0 524288 LW(0)
803B05E4:   if_int_ne LW(0) 0
803B05F0:     begin_child_thread_tid LW(0)
803B05F8:       callc [N__set_initial_upgrade_cursor_position battle_seq_end.o] 0
803B0604:       callc [btlevtcmd_BtlStageObjSetRotate battle_event_cmd.o] ["spotlight"] 0 0 -70
803B061C:       callc [btlevtcmd_BtlStageObjFlagOnOff battle_event_cmd.o] ["spotlight"] 1 0
803B0630:       callc [evt_sub_intpl_init evt_sub.o] 5 -70 -30 10
803B0648:       loop 11
803B0650:         callc [evt_sub_intpl_get_value evt_sub.o]
803B0658:         callc [btlevtcmd_BtlStageObjSetRotate battle_event_cmd.o] ["spotlight"] 0 0 LW(0)
803B0670:         wait_frames 1
803B0678:       end_loop
803B067C:       callc [_lvup_obj_set_color battle_seq_end.o] 0 255 255 255 255
803B0698:       callc [_lvup_disp_flag_onoff battle_seq_end.o] 0 32
803B06A8:       callc [_lvup_select_obj_disp_on battle_seq_end.o]
803B06B0:     end_child_thread
803B06B4:     callc [btlevtcmd_WaitEventEnd battle_event_cmd.o] LW(0)
803B06C0:     goto 69
803B06C8:   endif
803B06CC:   wait_frames 1
803B06D4:   goto 60
803B06DC: 69:
803B06E4:   stop_tid LW(10)
803B06EC:   callc [btlevtcmd_BtlStageObjFlagOnOff battle_event_cmd.o] ["spotlight"] 1 0
803B0700:   callc [_lvup_select_obj_lvup_param_disp battle_seq_end.o]
803B0708:   callc [_lvup_disp_flag_onoff battle_seq_end.o] 1 32
803B0718:   return
803B071C:   end

--- START OF DISASSEMBLY FOR FUNCTION [_confetti_control_event battle_seq_end.o] AT 803B0720 ---
803B0720:   setii LW(0) 1
803B072C:   setii LW(5) 5
803B0738:   loop LW(5)
803B0740:     subi LW(0) 1
803B074C:     if_int_le LW(0) 0
803B0758:       setii LW(0) 20
803B0764:       callc [evt_eff evt_eff.o] [float_0_8042715c battle_seq_end.o] ["confetti"] 3 0 300 5 180 0 0 0 0 0 0 0
803B07A4:     endif
803B07A8:     wait_frames 1
803B07B0:     setii LW(5) 5
803B07BC:   end_loop
803B07C0:   return
803B07C4:   end
